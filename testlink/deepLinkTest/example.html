<!doctype html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <script src="browser-deeplink.js" type="text/javascript"></script>
    
    <style>
    *, *:before, *:after {
        box-sizing: border-box;
    }
    a {
        font-family: monospace;
        display: block;
        width: 100%;
        margin: 10px 0;
        padding: 25px;
        background: #060;
        color:#fff;
        text-align: center;
        font-size: 20px;
    }
    </style>
</head>
<body>
    <a href="#" data-uri="fb://profile" onclick="clickHandler(this.dataset.uri)">open fb://profile</a>
    </br>
    <a id="test" href="#" data-uri="mymojiStage://open" onclick="clickHandler(this.dataset.uri)">open mymojiStage://open</a>
    </br>
    <a href="#" data-uri="mymojiStage" onclick="clickHandler(this.dataset.uri)">open mymojiStage: 無效//</a>
    </br>
    <a href="#" data-uri="mymojiStage://open?ln=/page_sticker_store" onclick="clickHandler(this.dataset.uri)">open 貼圖商店</a>
    </br>
    <a href="#" data-uri="mymojiStage://open?ln=/delete_avatar" onclick="clickHandler(this.dataset.uri)">open 刪除模型</a>
    123
    </br>
    <button id="test_button" href="#">open mymojiStage://open</button>
    </br>
</body>

    <script type="text/javascript">

        

    // deeplink.setup({
    //     iOS: {
    //         appId: "284882215",
    //         appName: "facebook",
    //     },
    //     android: {
    //         appId: "com.facebook.katana"
    //     }
    // });

    deeplink.setup({
        iOS: {
            appId: "1558996892",
            appName: "mymoji",
        },
        android: {
            appId: "com.taiwanmobile.myMojiStage"
        }
    });

    function clickHandler(uri) {
        deeplink.open(uri);
        return false;
    }
        
    // let testa = document.getElementById("test");
    // testa.click();

    let testa = document.getElementById("test_button");
    testa.addEventListener('load', window.location.assign("fb://profile"), false);
        // testa.addEventListener('load', clickHandler("mymojiStage://open"), false);

    testa.addEventListener('click', () => {
        // window.location.assign("slack://open"); // your deep link here
        clickHandler("mymojiStage://open");
    });

    </script>
    
</html>
